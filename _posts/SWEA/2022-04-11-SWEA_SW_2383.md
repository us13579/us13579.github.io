---
layout: single
title:  "ğŸ”‘SWEA_SW_2383"
categories: 
    - SWEA
tags: 
    - [2022-04, CodingTest, SWEA, SW, ğŸ”‘]
sidebar:
    nav: "docs"
---

# ğŸ“ <b><a style="color:#00adb5" href="https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV5-BEE6AK0DFAVl" target=_blank>[SW_2383] ì ì‹¬ ì‹ì‚¬ì‹œê°„</a></b>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Collections;
import java.util.StringTokenizer;

public class Solution{

	static class Person implements Comparable<Person> {
		int r, c, downCnt, status, time; // í–‰ìœ„ì¹˜, ì—´ìœ„ì¹˜, ë‚´ë ¤ê°€ê³  ìˆëŠ” ê³„ë‹¨ ìˆ˜, í˜„ìƒíƒœ, ì…êµ¬ê¹Œì§€ ë„ì°©ì‹œê°„

		public Person(int r, int c) {
			super();
			this.r = r;
			this.c = c;
		}

		// ì‚¬ëŒ ì´ˆê¸°í™”
		public void init() {
			time = downCnt = 0;
			// ì´ë™ ì¤‘ì¸ ìƒíƒœë¡œ ì´ˆê¸°í™” ( ì´ˆê¸°ìƒíƒœ )
			status = M;
		}

		// ì˜¤ë¦„ì°¨ìˆœì€ ë‚˜ì—ì„œ ìƒëŒ€ ë¹¼ëŠ”ê²Œ ì œì¼ ì‹¬í”Œ
		@Override
		public int compareTo(Person o) {
			return this.time - o.time; // ê³„ë‹¨ì…êµ¬ê¹Œì§€ ì†Œìš”ë˜ëŠ” ì‹œê°„ì´ ë¹ ë¥¸ìˆœìœ¼ë¡œ..
		}
	}

	// move, wait, down, complete
	static final int M = 1, W = 2, D = 3, C = 4;

	// í•œë³€ì˜ ê¸¸ì´, ëª¨ë‘ ê³„ë‹¨ì„ ë‚´ë ¤ê°€ëŠ” ìµœì†Œì‹œê°„, ì‚¬ëŒìˆ˜
	static int N, min, cnt;
	// ë¶€ë¶„ì§‘í•©ì˜ êµ¬í˜„ì— ì‚¬ìš©í•  ì„ íƒ ë°°ì—´ ( ì„ íƒë˜ë©´ ê³„ë‹¨1, ì„ íƒì´ ì•ˆë˜ë©´ ê³„ë‹¨2 )
	static boolean[] selected;
	// ì‚¬ëŒ ë¦¬ìŠ¤íŠ¸
	static ArrayList<Person> pList;
	// ê³„ë‹¨ ë¦¬ìŠ¤íŠ¸
	static int[][] sList;

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		int TC = Integer.parseInt(br.readLine());

		for (int tc = 1; tc <= TC; tc++) {
			N = Integer.parseInt(br.readLine());
			StringTokenizer st = null;
			
			pList = new ArrayList<Person>();
			sList = new int[2][];
			min = Integer.MAX_VALUE;

			for (int i = 0, k = 0; i < N; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				for (int j = 0; j < N; j++) {
					int c = Integer.parseInt(st.nextToken());
					// ì‚¬ëŒì´ë©´
					if (c == 1) {
						pList.add(new Person(i, j));
					}
					// ê³„ë‹¨ì´ë©´
					else if (c > 1) {
						sList[k++] = new int[] { i, j, c };
					}
				}
			}

			// ì‚¬ëŒ ìˆ˜
			cnt = pList.size();

			// ì‚¬ëŒ ìˆ˜ ë§Œí¼ ì²´í¬ ë°°ì—´ ìƒì„±
			selected = new boolean[cnt];

			// ê³„ë‹¨ ë°°ì •í•˜ê¸°
			divide(0);
			System.out.println("#" + tc + " " + min);

		}
	}

	// ë¶€ë¶„ì§‘í•©ì„ ì´ìš©í•´ì„œ ê³„ë‹¨ ë°°ì • ( ì‚¬ëŒì´ ê³„ì† ë°”ë€ë‹¤ ) index : ì‚¬ëŒ
	static void divide(int index) {
		if(index == cnt) {
			makeList();
			return;
		}
		

		// ë¶€ë¶„ì§‘í•©ì— í¬í•¨ : ê³„ë‹¨ 1ì— ë°°ì •
		selected[index] = true;
		divide(index + 1);

		// ë¶€ë¶„ì§‘í•©ì— ë¹„í¬í•¨ : ê³„ë‹¨ 1ì— ë°°ì •
		selected[index] = false;
		divide(index + 1);
	}

	// selected ìƒíƒœì— ë”°ë¼ ë‘ ê³„ë‹¨ì„ ì´ìš©í•˜ëŠ” ê°ê°ì˜ ë¦¬ìŠ¤íŠ¸ ìƒì„±
	static void makeList() {
		ArrayList<Person> aList = new ArrayList<Person>();
		ArrayList<Person> bList = new ArrayList<Person>();

		for (int i = 0; i < cnt; i++) {
			// í•œëª…ì”© êº¼ë‚¸ë‹¤
			Person p = pList.get(i);
			// êº¼ë‚¸ ì‚¬ëŒ ì´ˆê¸°í™”
			p.init(); // time, downCnt, status ë¥¼ ì´ˆê¸°í™”
			// ê³„ë‹¨ 1
			if (selected[i]) {
				// ê³„ë‹¨ ì…êµ¬ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„ êµ¬í•˜ê¸°
				p.time = Math.abs(p.r - sList[0][0]) + Math.abs(p.c - sList[0][1]);
				aList.add(p);
			}
			// ê³„ë‹¨ 2
			else {
				// ê³„ë‹¨ ì…êµ¬ê¹Œì§€ ê±¸ë¦¬ëŠ” ì‹œê°„ êµ¬í•˜ê¸°
				p.time = Math.abs(p.r - sList[1][0]) + Math.abs(p.c - sList[1][1]);
				bList.add(p);
			}
		}

		// ì´ ì†Œìš”ì‹œê°„ ìµœì†Ÿê°’ ê°±ì‹ 
		int res = go(aList, bList);
		if (min > res)
			min = res;

	}

	private static int go(ArrayList<Person> aList, ArrayList<Person> bList) {

		// aList ê±¸ë¦¬ëŠ”ì‹œê°„, bList ê±¸ë¦¬ëŠ” ì‹œê°„
		int timeA = 0, timeB = 0;

		if (aList.size() > 0)
			timeA = goDown(aList, sList[0][2]);
		if (bList.size() > 0)
			timeB = goDown(bList, sList[1][2]);

		// ë‘˜ ì¤‘ì— í° ê°’ ë¦¬í„´
		return timeA > timeB ? timeA : timeB;
	}

	// ê³„ë‹¨ ë‚´ë ¤ê°€ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„
	private static int goDown(ArrayList<Person> list, int height) {

		// ê³„ë‹¨ ì…êµ¬ê¹Œì§€ ë¹ ë¥´ê²Œ ì˜¤ëŠ” ìˆœìœ¼ë¡œ ì •ë ¬
		Collections.sort(list);

		// ì²«ë²ˆì§¸ ì‚¬ëŒì˜ ê³„ë‹¨ì…êµ¬ ë„ì°©ì‹œê°„ë¶€í„° ì²˜ë¦¬, í˜ëŸ¬ê°€ëŠ” ì‹œê°„ê°’
		int time = list.get(0).time;

		// ê¸°ì¡´ ì‚¬ì´ì¦ˆ ì €ì¥ ( ë³€í•˜ë©´ x )
		int size = list.size();

		// ë‚´ë ¤ê°€ê³  ìˆëŠ” ì‚¬ëŒìˆ˜, ë‹¤ ë‚´ë ¤ê°„ ì‚¬ëŒ ìˆ˜
		int ingCnt = 0, cCnt = 0;

		while (true) {
			// ë§¤ì‹œê°„ë§ˆë‹¤ ì‚¬ëŒë“¤ì„ í•˜ë‚˜ì”© êº¼ë‚´ì–´ ìƒíƒœë¥¼ ì²˜ë¦¬í•œë‹¤
			for (int i = 0; i < size; i++) {
				Person p = list.get(i);

				// ì‚¬ëŒì´ ë‚˜ê°„ë‹¤ê³  ì§€ìš°ì§„ ì•Šì„ ê²ƒì´ë‹¤. ( index ê°€ í—·ê°ˆë¦´ ìˆ˜ ìˆìŒ )
				// ë‹¤ ë‚´ë ¤ì˜¨ ìƒíƒœì´ë©´ ê±´ë„ˆë›¸ ê²ƒì´ë‹¤.
				if (p.status == C)
					continue;

				// í˜„ì¬ì‹œê°„ì´ ì‚¬ëŒì˜ ê³„ë‹¨ ì…êµ¬ ë„ì°©ì‹œê°„ê³¼ ê°™ìœ¼ë©´
				if (p.time == time) {
					// ëŒ€ê¸°ìƒíƒœë¡œ ë°”ê¿”ì¤€ë‹¤.
					p.status = W;
				}
				// ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ìƒíƒœ , ê³„ë‹¨ë‚´ë ¤ê°€ê³  ìˆëŠ”ì‚¬ëŒì´ 3 ë³´ë‹¤ ì‘ì„ ë•Œ -> ê³„ë‹¨ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.
				else if (p.status == W && ingCnt < 3) {
					// ì´ë™ìƒíƒœë¡œ ë°”ê¿”ì¤€ë‹¤.
					p.status = D;
					// ê³„ë‹¨ìˆ˜ 1ë¶€í„° ì‹œì‘
					p.downCnt = 1;
					// ê³„ë‹¨ì— í•œëª… ë“¤ì–´ì™”ìŒ
					++ingCnt;
				}
				// ì´ë™ì¤‘ì¸ ìƒíƒœ
				else if (p.status == D) {
					// ì•„ì§ ëœ ë‚´ë ¤ê°”ë‹¤.
					if (p.downCnt < height) {
						p.downCnt++;
					}
					// ë‹¤ ë‚´ë ¤ê°”ë‹¤.
					else {
						// ë‹¤ ë‚´ë ¤ê°„ ìƒíƒœë¡œ ë³€ê²½
						p.status = C;
						// ë‹¤ ë‚´ë ¤ê°„ ì‚¬ëŒ 1 ì¦ê°€
						++cCnt;
						// ê³„ë‹¨ ì•ˆì— ì‚¬ëŒ 1 ê°ì†Œ
						--ingCnt;
					}
				}
			}
			// ëª¨ë“  ì¸ì›ì´ ë‚´ë ¤ì˜¨ ê²½ìš°
			if (cCnt == size) {
				break;
			}
			++time;
		}
		return time;
	}
}
```


## ğŸ¤” <b><a style="color:#00adb5">ë‚˜ì˜ ìƒê°</a></b>
ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œì´ë‹¤.<br>
ëª¨ë“  ì‚¬ëŒë“¤ì´ ê³„ë‹¨ì„ ì´ìš©í•´ ë‚´ë ¤ê°€ëŠ” ê°€ì¥ ìµœì†Œê°€ ë˜ëŠ” ì‹œê°„ì„ êµ¬í•˜ëŠ” ê²ƒì´ë‹¤.<br>
ì²˜ìŒì— ê³„ë‹¨ì— ê°€ê¹Œìš´ ì‚¬ëŒë“¤ì„ íŒë³„í•˜ê³  ê·¸ë¦¬ë””í•œ ë°©ë²•ìœ¼ë¡œ ê³„ì† ìƒê°í–ˆëŠ”ë° ìƒê°í•˜ë©´ í•  ìˆ˜ë¡ ë°˜ë¡€ê°€ ë§ì´ ë‚˜ì™”ë‹¤.<br>
ê·¸ë˜ì„œ ì–´ì°¨í”¼ ì „ì²´ ì‚¬ëŒë„ 10ëª…ê¹Œì§€ ë°–ì— ì•ˆë˜ê³  ê³„ë‹¨ë„ 2ê°œë¡œ í•œì •ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì™„ì „íƒìƒ‰ìœ¼ë¡œ ìƒê°í•˜ê¸°ë¡œ í–ˆë‹¤.<br><br>
ë§Œì•½ ì‚¬ëŒì´ 1,2,3 ì„¸ëª…ì´ ìˆë‹¤ê³  ìƒê°í•˜ë©´ ê³„ë‹¨ 1,2ì— ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ë“¤ì´ ë‚˜ì˜¨ë‹¤.<br>
<table>
    <tr>
        <td>ê³„ë‹¨ 1</td>
        <td>ê³„ë‹¨ 2</td>
    </tr>
    <tr>
        <td>X</td>
        <td>1,2,3</td>
    </tr>
    <tr>
        <td>1</td>
        <td>2,3</td>
    </tr>
    <tr>
        <td>2</td>
        <td>1,3</td>
    </tr>
    <tr>
        <td>3</td>
        <td>1,2</td>
    </tr>
    <tr>
        <td>1,2</td>
        <td>3</td>
    </tr>
    <tr>
        <td>1,3</td>
        <td>2</td>
    </tr>
    <tr>
        <td>2,3</td>
        <td>1</td>
    </tr>
    <tr>
        <td>1,2,3</td>
        <td>X</td>
    </tr>
</table><br>
ì´ê²ƒì€ ëª¨ë“  ë¶€ë¶„ì§‘í•©ì„ êµ¬í•˜ëŠ” ê³¼ì •ì´ë‹¤.<br>
ì‹œê°„ ë³µì¡ë„ëŠ” O(2â¿) -> 2^10 = 1024 ë°–ì— ë˜ì§€ ì•ŠëŠ”ë‹¤. ( ì‚¬ëŒì´ ìµœëŒ€ 10ëª… )<br>
<br>
ì´ì œ ê³¼ì •ì„ ìƒê°í•´ë³´ë©´<br>
- ì‚¬ëŒë“¤ì„ ë‘ ê³„ë‹¨ì— ë‚˜ëˆ„ì–´ ë°°ì • ( ë¶€ë¶„ì§‘í•© )
- ê³„ë‹¨
    - ê³„ë‹¨ 1ì— ë°°ì •ëœ ëª¨ë“  ì‚¬ëŒì— ëŒ€í•´ ê³„ë‹¨ ë‚´ë ¤ê°€ê¸°
    - ê³„ë‹¨ 2ì— ë°°ì •ëœ ëª¨ë“  ì‚¬ëŒì— ëŒ€í•´ ê³„ë‹¨ ë‚´ë ¤ê°€ê¸°
- ê°€ì¥ ê°€ê¹Œìš´ ì‚¬ëŒ ë¶€í„° ( ê±°ë¦¬ ì˜¤ë¦„ ì°¨ìˆœ ì •ë ¬ )
<br>
- ê³„ë‹¨ ë‚´ë ¤ê°ˆ ë•Œ ì œì•½ì‚¬í•­
    - ê³„ë‹¨ ì…êµ¬ì—ì„œ 1ë¶„ waiting
    - 1ë¶„ ì§€ë‚˜ë©´ ë‚´ë ¤ê°€ê¸° ê°€ëŠ¥ ( ê³„ë‹¨ ì´ìš©ìê°€ 3ëª…ë³´ë‹¤ ì ì„ ë•Œ -> ëŒ€ê¸°í•´ì•¼í•˜ëŠ” ê²½ìš°ë„ ë°œìƒ)
- ì†Œìš”ì‹œê°„ì€ ê³„ë‹¨ 1ì˜ ì´ ì‹œê°„ê³¼ ê³„ë‹¨ 2ì˜ ì´ ì‹œê°„ ì¤‘ ìµœëŒ€ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.ì–´ì°¨í”¼ ë™ì‹œì— ê°€ê³  ìˆê¸° ë•Œë¬¸ì— ìµœëŒ€ê°’ì´ì—¬ì•¼ ë‘ ê³„ë‹¨ ìª½ ì‚¬ëŒë“¤ì´ ë‹¤ ë‚´ë ¤ì˜¨ ê²ƒì´ë‹¤.