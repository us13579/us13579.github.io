---
layout: single
title:  "ğŸ”‘SWEA_SW_2382"
categories: 
    - SWEA
tags: 
    - [2022-04, CodingTest, SWEA, SW, ğŸ”‘]
sidebar:
    nav: "docs"
---

# ğŸ“ <b><a style="color:#00adb5" href="https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV597vbqAH0DFAVl" target=_blank>[SW_2382] ë¯¸ìƒë¬¼ ê²©ë¦¬</a></b>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.PriorityQueue;
import java.util.StringTokenizer;

public class Solution{

	// ë¹„êµí•˜ê¸°ìœ„í•´
	static class Point implements Comparable<Point> {
		// í–‰, ì—´, êµ°ì§‘í¬ê¸° ,ë°©í–¥
		int x, y, num, way;

		public Point(int y, int x, int num, int way) {
			this.x = x;
			this.y = y;
			this.num = num;
			this.way = way;
		}

		// í¬ê¸°ë¹„êµ
		@Override
		public int compareTo(Point o) {
			// ìŒìˆ˜ë‚˜ 0ì´ ë‚˜ì˜¤ë©´ ê·¸ëŒ€ë¡œ ì–‘ìˆ˜ê°€ ë‚˜ì˜¤ë©´ ì´ë™
			// return this.num - o.num; // ì˜¤ë¦„ì°¨ìˆœì˜ê²°ê³¼ -> ìµœì†Œí™
			return o.num - this.num; // ë‚´ë¦¼ì°¨ìˆœì˜ ê²°ê³¼ -> ìµœëŒ€í™
		}
	}

	static PriorityQueue<Point> pQueue; 
	static Point map[][];
	static int N, M, K;
	static int[] dy = { 0, -1, 1, 0, 0 }; // wayë¥¼ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì´ë ‡ê²Œ í•´ì¤Œ
	static int[] dx = { 0, 0, 0, -1, 1 }; // 0 : ì‚¬ìš©í•˜ì§€ì•ŠìŒ, ìƒ : 1, í•˜ : 2, ì¢Œ : 3, ìš° : 4
	static StringTokenizer st = null;

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringBuilder sb = new StringBuilder();

		int T = Integer.parseInt(br.readLine());

		for (int tc = 1; tc <= T; tc++) {
			sb.append("#").append(tc).append(" ");

			st = new StringTokenizer(br.readLine(), " ");

			// ì…€ì˜ ê°œìˆ˜
			N = Integer.parseInt(st.nextToken());

			// ê²©ë¦¬ì‹œê°„
			M = Integer.parseInt(st.nextToken());

			// ë¯¸ìƒë¬¼ êµ°ì§‘ì˜ ìˆ˜
			K = Integer.parseInt(st.nextToken());
			
			map = new Point[N][N];
			pQueue = new PriorityQueue<Point>();

			// ë¯¸ìƒë¬¼ ì…ë ¥ ë°›ê¸°
			for (int i = 0; i < K; i++) {
				st = new StringTokenizer(br.readLine(), " ");
				pQueue.add(new Point(Integer.parseInt(st.nextToken()),Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken())));
			}

			sb.append(move()).append("\n");
		}
		System.out.println(sb);
	}

	// ì£¼ì–´ì§„ M ì‹œê°„ë™ì•ˆ ë¯¸ìƒë¬¼ ì´ë™ ì²˜ë¦¬
	static int move() {

		int time = M, nx, ny, remainNum = 0;

		// ì „ì²´ ì‹œê°„
		while (time>0) {
			// êµ°ì§‘ë¦¬ìŠ¤íŠ¸ì—ì„œ êµ°ì§‘ë“¤ì„ í•˜ë‚˜ì”© ëª¨ë‘ êº¼ë‚´ì„œ ì²˜ë¦¬
			Point p;
			// 1ì‹œê°„ ë™ì•ˆ
			while (!pQueue.isEmpty()) {
				// ê°€ì¥ í° ê±° ë¨¼ì € ë‚˜ì˜¨ë‹¤
				p = pQueue.poll();

				// ê°’ì„ ë”í•´ì£¼ê³  nx,nyì— ë„£ì–´ì£¼ì—ˆë‹¤.
				nx = p.x += dx[p.way];
				ny = p.y += dy[p.way];
				

				// ê°€ì¥ìë¦¬ì— ë„ì°©í•œ ê²½ìš°
				if (nx == 0 || ny == 0 || nx == N - 1 || ny == N - 1) {
					p.num /= 2;
					// ë§Œì•½ 1/2 í–ˆëŠ”ë° ì†Œë©¸ë  ê²½ìš° ê·¸ëƒ¥ ëŒì•„ê°„ë‹¤. ë°‘ì— ì²˜ë¦¬í•  í•„ìš” x
					if (p.num == 0)	continue;

					// ë°©í–¥ ë°˜ëŒ€ë¡œ í„´ -> ì§ìˆ˜ì´ë©´ --, í™€ìˆ˜ì´ë©´ ++ 1 3 ì€ ë°©í–¥ë°”ê¿€ë ¤ë©´ + / 2,4 ëŠ” ë°©í–¥ë°”ê¿€ë ¤ë©´ -
					if (p.way % 2 == 1)
						p.way++;
					else
						p.way--;
				}

				// í•´ë‹¹ ìë¦¬ì— ì²˜ìŒ ì´ë™í•œ ë¯¸ìƒë¬¼ êµ°ì§‘ì´ë©´ ê·¸ìë¦¬ì— ì„¸íŒ…
				if (map[ny][nx] == null) {
					map[ny][nx] = p;
				}
				// í•´ë‹¹ ìë¦¬ì— ì²˜ìŒ ì´ë™í•œ ë¯¸ìƒë¬¼ êµ°ì§‘ì´ ì•„ë‹ˆë©´ ê¸°ì¡´ êµ°ì§‘ì— í•©ì¹˜ê¸° ( ë¬´ì¡°ê±´ ì „ì— ë“¤ì–´ê°„ê²Œ ë” í¬ë‹¤ ->
				// PriorityQueueQueueë¼ì„œ
				else {
					map[ny][nx].num += p.num;
					// System.out.println(ny + " , " + nx + "ì˜ ê°œìˆ˜ëŠ” "+ map[ny][nx].num);
				}
				
			}

			// 1ì‹œê°„ ì²˜ë¦¬
			remainNum = reset();
			time--;
		}
		return remainNum;
	}

	// ë§¤ì‹œê°„ë§ˆë‹¤ í•„ìš”í•œ ì •ë¦¬, ì´ˆê¸°í™” ì‘ì—…
	static int reset() {
		int total = 0;
		for (int i = 0; i < N; i++) {
			for (int j = 0; j < N; j++) {
				if (map[i][j] != null) {
					// ë‹¤ì‹œ íì— ë„£ì–´ì£¼ê³ 
					pQueue.offer(map[i][j]);
					// ì‚´ì•„ìˆëŠ” ë¯¸ìƒë¬¼ êµ°ì§‘ì˜ í¬ê¸° ëˆ„ì 
					total += map[i][j].num;
					// mapì„ ë¦¬ì…‹ì‹œí‚¨ë‹¤
					// ë‹¤ì‹œ ì‹œê°„ì„ ë°˜ë³µí•˜ê¸° ìœ„í•´
					map[i][j] = null;
				}
			}
		}
		return total;
	}
}
```


## ğŸ¤” <b><a style="color:#00adb5">ë‚˜ì˜ ìƒê°</a></b>
ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œì´ë‹¤.<br>
ë¬¸ì œ í•´ê²° ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë° ê·¸ ì¤‘ì— ë‚˜ëŠ” ë¯¸ìƒë¬¼ë“¤ì˜ ì§‘í•©ì„ ë”°ë¡œ ìš°ì„ ìˆœìœ„ íë¡œ ë¹¼ê³  ë†’ì€ ê²ƒ ìˆœëŒ€ë¡œ ë†“ì•˜ë‹¤.<br>
ê·¸ë¦¬ê³  1ì‹œê°„ ì§€ë‚ ë•Œë§ˆë‹¤ map[][]ì— ë„£ì–´ì„œ ì›€ì§ì´ê³  í•©ì¹˜ê³  ë‹¤ì‹œ map ì´ˆê¸°í™” ì‹œí‚¤ê³  ìš°ì„ ìˆœìœ„ íì— ë„£ì–´ì£¼ì—ˆë‹¤.<br>
ì´ ë°©ë²•ì´ ê·¸ëƒ¥ listë¡œ í•˜ëŠ” ê²ƒë³´ë‹¤ ë°°ì—´ ì…ë ¥ ì¶œë ¥ì´ ë§ê¸´ í•˜ì§€ë§Œ í‹€ë¦´ ìœ„í—˜ì´ ì—†ë‹¤ëŠ” ì ì—ì„œ ì•„ì£¼ ìœ ìš©í•˜ë‹¤.<br>
1. ë¯¸ìƒë¬¼ ì €ì¥ (ë³¸ì¸ ë§ˆìŒ) -> ë‹Œ ì¢Œí‘œ, ìˆ˜, ë°©í–¥ìœ¼ë¡œ 4ê°€ì§€ë‚˜ ìˆì–´ì„œ í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•˜ì˜€ë‹¤.
2. ë¯¸ìƒë¬¼ ì´ë™ ( ê°€ì¥ìë¦¬ì´ë©´ ë°˜í‹ˆìœ¼ë¡œ ë‚˜ëˆ„ê³ , ë°©í–¥ ë°˜ëŒ€ë¡œ , ê·¸ë¦¬ê³  ë§Œì•½ ë¯¸ìƒë¬¼ì´ ê²¹ì¹  ì‹œì—ëŠ” ìˆ˜ë¥¼ í•©ì¹˜ê³  ì›ë˜ ìˆ˜ê°€ ë” ì»¸ëŠ” ë¯¸ìƒë¬¼ì˜ ë°©í–¥ì„ ê°€ì§€ê²Œ ëœë‹¤. )
3. ë§¤ì‹œê°„ ë§ˆë‹¤ ì •ë¦¬ ( ë¯¸ìƒë¬¼ë“¤ì˜ ì´ í•©), ì´ˆê¸°í™” 
ì¤„ë§ˆë‹¤ ì£¼ì„ì„ ë‹¬ì•„ë†”ì„œ ê°€ë…ì„±ì´ ì¢‹ì„ ê²ƒì´ë‹¤.