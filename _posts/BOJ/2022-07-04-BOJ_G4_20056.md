---
layout: single
title: "BOJ_G4_20056"
categories:
  - BOJ
tags:
  - [2022-07, CodingTest, BOJ, G4]
sidebar:
  nav: "docs"
---

# ğŸ“ <b><a style="color:#00adb5" href="https://www.acmicpc.net/problem/20056" target=_blank>[G4_20056] ë§ˆë²•ì‚¬ ìƒì–´ì™€ íŒŒì´ì–´ë³¼</a></b>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class BOJ_G4_20056 {
	static class ball {
		int y;
		int x;
		int ballM;
		int ballS;
		int ballD;

		// ì¢Œí‘œ y,x, ì§ˆëŸ‰, ì†ë ¥, ë°©í–¥
		public ball(int y, int x, int ballM, int ballS, int ballD) {
			this.y = y;
			this.x = x;
			this.ballM = ballM;
			this.ballS = ballS;
			this.ballD = ballD;
		}
	}

	static int N, M, K, r, c, m, s, d;
	// 8ë°©í–¥ 0,1,2,3,4,5,6,7
	static int[] dx = { 0, 1, 1, 1, 0, -1, -1, -1 };
	static int[] dy = { -1, -1, 0, 1, 1, 1, 0, -1 };
	static Queue<ball> queue;
	static ArrayList<ball>[][] map;

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine(), " ");

		// **** input start ****
		N = Integer.parseInt(st.nextToken());
		M = Integer.parseInt(st.nextToken());
		K = Integer.parseInt(st.nextToken());

		// ball ì €ì¥ í
		queue = new LinkedList<ball>();
		// ì¢Œí‘œë§ˆë‹¤ ball ì €ì¥ ë¦¬ìŠ¤íŠ¸
		map = new ArrayList[N][N];

		for (int i = 0; i < N; i++) {
			for (int j = 0; j < N; j++) {
				map[i][j] = new ArrayList<>();
			}
		}

		for (int i = 0; i < M; i++) {
			st = new StringTokenizer(br.readLine(), " ");
			// ì¢Œí‘œ
			r = Integer.parseInt(st.nextToken())-1;
			c = Integer.parseInt(st.nextToken())-1;
			// ì§ˆëŸ‰
			m = Integer.parseInt(st.nextToken());
			// ì†ë ¥
			s = Integer.parseInt(st.nextToken());
			// ë°©í–¥
			d = Integer.parseInt(st.nextToken());

			// queue ì— ì €ì¥
			queue.add(new ball(r, c, m, s, d));
		}
		// **** input end ****

		// Kë²ˆ ë°˜ë³µ
		while (K > 0) {
			int size = queue.size();
			for (int i = 0; i < size; i++) {
				// ì¢Œí‘œ ì´ë™í•˜ê¸°
				move();
			}
			// ì „ì²´ ëŒë©´ì„œ ê²¹ì¹œ ê²ƒì´ ìˆë‚˜ ì—†ë‚˜ ì²´í¬
			for (int j = 0; j < N; j++) {
				for (int z = 0; z < N; z++) {
					// ì—†ìœ¼ë©´ í†µê³¼
					if (map[j][z].size() == 0)
						continue;
					// 1ê°œ ìˆìœ¼ë©´ ê·¸ëƒ¥ íì— ë„£ëŠ”ë‹¤
					if (map[j][z].size() == 1) {
						queue.add(map[j][z].get(0));
						continue;
					}
					// 2ê°œ ì´ìƒì¸ ê²ƒì´ ìˆìœ¼ë©´
					else {
						int weight = 0;
						int speed = 0;
						ArrayList<Integer> list = new ArrayList<>();
						for (int i = 0; i < map[j][z].size(); i++) {
							weight += map[j][z].get(i).ballM;
							speed += map[j][z].get(i).ballS;
							list.add(map[j][z].get(i).ballD);
						}

						weight = weight(weight);
						speed = speed(speed, map[j][z].size());
						int check = check(list);

						// ì§ˆëŸ‰ì´ 0 ì´ë©´ ì—†ì• ê¸°
						if (weight == 0)
							continue;
						// ë‹¤ ê°™ìœ¼ë©´ ì§ìˆ˜
						if (check == 1) {
							int idx = 0;
							for (int i = 0; i < 4; i++) {
								queue.add(new ball(j, z, weight, speed, idx));
								idx += 2;
							}
						}
						// ë‹¤ë¥´ë©´ í™€ìˆ˜
						else {
							int idx = 1;
							for (int i = 0; i < 4; i++) {
								queue.add(new ball(j, z, weight, speed, idx));
								idx += 2;
							}
						}
					}
				}
			}
			// map ì´ˆê¸°í™”
			for(int i=0;i<N;i++) {
				for(int j=0;j<N;j++) {
					map[i][j] = new ArrayList<>();
				}
			}
			K--;
		}

		int res = 0;
		int size = queue.size();
		for(int i=0; i<size; i++) {
			res += queue.poll().ballM;
		}

		System.out.println(res);

	}// main end

	// ì´ë™í•˜ëŠ” ë©”ì„œë“œ
	static void move() {
		// ì´ë™í•  ball
		ball cur = queue.poll();

		// ì´ë™
		int ny = cur.y + dy[cur.ballD]*(cur.ballS%N);
		int nx = cur.x + dx[cur.ballD]*(cur.ballS%N);

		ny = (ny + N)%N;
		nx = (nx + N)%N;

		// list ì— ì¶”ê°€
		map[ny][nx].add(new ball(ny, nx, cur.ballM, cur.ballS, cur.ballD));
	}

	// ì§ˆëŸ‰ êµ¬í•˜ëŠ” ë©”ì„œë“œ
	static int weight(int sum) {
		return sum / 5;
	}

	// ì†ë ¥ êµ¬í•˜ëŠ” ë©”ì„œë“œ
	static int speed(int sum, int cnt) {
		return sum / cnt;
	}

	// ë°©í–¥ ì²´í¬ - ë°©í–¥ë“¤ ëª¨ë‘ ëª¨ì•„ì„œ ( ë°©í–¥ ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì™€ì„œ 1-> ë‹¤ê°™ë‹¤ , ì§ìˆ˜ / 2-> ë‹¤ ì•ˆê°™ë‹¤, í™€ìˆ˜ë¡œ ë°˜í™˜ )
	static int check(ArrayList<Integer> list) {
		int num = 0;
		boolean flag = true;

		int temp = list.get(0) % 2;

		for (int i = 1; i < list.size(); i++) {
			// ë§Œì•½ ëª¨ë‘ ê°™ì€ í™€ìˆ˜ë‚˜ ì§ìˆ˜ê°€ ì•„ë‹Œ ê²½ìš° false
			if (list.get(i) % 2 != temp)
				flag = false;
		}

		// ë§Œì•½ ë‹¤ ê°™ìœ¼ë©´ 1, ë‹¤ ë‹¤ë¥´ë©´ 2
		if (flag)
			num = 1;
		else
			num = 2;

		return num;
	}
}// class end
```

## ğŸ¤” <b><a style="color:#00adb5">ë‚˜ì˜ ìƒê°</a></b>

ì‚¼ì„± SW ì—­ëŸ‰ í…ŒìŠ¤íŠ¸ ê¸°ì¶œ ë¬¸ì œ ì´ë‹¤... ë¬¸ì œë‹µë‹¤... í™•ì‹¤íˆ ì¡°ê±´ë„ ë§ê³  ì‹œë®¬ë ˆì´ì…˜ì¸ë° ë³µì¡í•˜ë‹¤ ã…‹ã…‹<br>
ìŠ¤í„°ë””ì—ì„œ í’€ì—ˆëŠ”ë° ê²°êµ­ ì„±ê³µí•˜ì§€ ëª»í•˜ê³  ì°¾ì•„ë´¤ë‹¤. ë‹¤í–‰íˆ ì ‘ê·¼ ë°©ì‹ì´ ë¹„ìŠ·í•´ì„œ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.<br>
ë‚˜ëŠ” íŒŒì´ì–´ë³¼ë“¤ì„ ìƒˆë¡œìš´ queueì—ë‹¤ê°€ ì €ì¥í•˜ë‹ˆ ê¸°ì¡´ queueì™€ ê·¸ ì¢Œí‘œì˜ queueì™€ í—·ê°ˆë¦¬ê²Œ í•´ì„œ êµ¬í˜„ì— ì„±ê³µí•˜ì§€ ëª»í•œ ê²ƒ ê°™ë‹¤.<br>
ê·¸ë˜ì„œ ì¢Œí‘œë§ˆë‹¤ ArrayListë¥¼ í†µí•´ ballì„ ì €ì¥í•œë‹¤.<br>
ì „ì²´ì ì¸ ë°©ë²•ì„ ì„¤ëª…í•´ë³´ê² ë‹¤.<br>

- ë¨¼ì € ëª¨ë“  ì¢Œí‘œë§ˆë‹¤ ArrayListë¥¼ ìƒì„±í•´ ë‘”ë‹¤.
- ê°’ë“¤ì„ ì…ë ¥ë°›ì•„ queueì— ì €ì¥í•œë‹¤. ( ì´ˆê¸° íŒŒì´ì–´ë³¼ )
- íŒŒì´ì–´ë³¼ì„ ì´ë™ì‹œí‚¨ë‹¤.
- ì´ë™ì‹œí‚¬ ë•Œ ì¢Œí‘œ ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ë©´ ê³„ì‚°ì„ í•´ì¤€ë‹¤.
- ì´ë™ì‹œí‚¨ ê°’ë“¤ì„ ArrayListì— ì €ì¥í•œë‹¤.
- ì „ì²´ ì¢Œí‘œë¥¼ ëŒë©´ì„œ ArrayList.size()ë¥¼ í™•ì¸í•˜ë©° 2ê°œ ì´ìƒì¸ ê²ƒì´ ìˆëŠ”ì§€ ì²´í¬í•œë‹¤.
- ìˆìœ¼ë©´ ë¬¸ì œì— ë‚˜ì™€ìˆëŠ” ê²ƒ ì²˜ëŸ¼ ê³„ì‚°ì„ í•´ì¤€ë‹¤.
  - ì§ˆëŸ‰ì€ ì „ì²´ì§ˆëŸ‰í•© / 5 ( ì§ˆëŸ‰ì´ 0 ì´ë©´ ì—†ì• ê¸° )
  - ì†ë ¥ì€ ì „ì²´ì†ë ¥í•© / íŒŒì´ì–´ë³¼ ê°œìˆ˜
  - ë°©í–¥ì€ ê³µí†µëœ ë°©í–¥ì´ë©´ ì§ìˆ˜, ì•„ë‹ˆë©´ í™€ìˆ˜
- ê³„ì‚°í•´ì¤€ í›„ì— queueì— ë„£ì–´ì£¼ê³  ArrayListëŠ” ì´ˆê¸°í™” ì‹œì¼œì¤€ë‹¤.
- ì´ ê³¼ì •ì„ Kë²ˆ ë°˜ë³µí•œë‹¤.
- ì „ì²´ queueë¥¼ ëŒë©´ì„œ ì§ˆëŸ‰í•©ì„ êµ¬í•´ì¤€ë‹¤.
