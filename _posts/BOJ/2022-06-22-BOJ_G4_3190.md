---
layout: single
title: "BOJ_G4_3190"
categories:
  - BOJ
tags:
  - [2022-06, CodingTest, BOJ, G4]
sidebar:
  nav: "docs"
---

# ğŸ“ <b><a style="color:#00adb5" href="https://www.acmicpc.net/problem/3190" target=_blank>[G4_3190] ë±€</a></b>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Deque;
import java.util.LinkedList;
import java.util.StringTokenizer;


public class Main{
	static int[][] board;
	static ArrayList<Integer> list_num;
	static ArrayList<String> list_str;
	static Deque<Node> node;
	static int dx, dy;
	static int N, K, L;
	static int res, cnt;

	public static class Node {
		int x;
		int y;

		public Node(int x, int y) {
			this.x = x;
			this.y = y;
		}
	}

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st;

		// **** input start ****
		N = Integer.parseInt(br.readLine());
		K = Integer.parseInt(br.readLine());

		// ì „ì²´ ë³´ë“œ
		board = new int[N][N];

		// ì‚¬ê³¼ ìœ„ì¹˜ ì €ì¥
		for (int i = 0; i < K; i++) {
			st = new StringTokenizer(br.readLine(), " ");
			int y = Integer.parseInt(st.nextToken());
			int x = Integer.parseInt(st.nextToken());

			// ì‚¬ê³¼ìœ„ì¹˜ 1ë¡œ ì €ì¥
			board[y - 1][x - 1] = 1;
		}

		// ë°©í–¥ë³€í™˜ ë¦¬ìŠ¤íŠ¸
		L = Integer.parseInt(br.readLine());
		// ìˆ˜ ì €ì¥
		list_num = new ArrayList<>();
		// ë¬¸ìì €ì¥
		list_str = new ArrayList<>();
		for (int i = 0; i < L; i++) {
			st = new StringTokenizer(br.readLine(), " ");
			int num = Integer.parseInt(st.nextToken());
			String str = st.nextToken();

			list_num.add(num);
			list_str.add(str);
		}

		// ì²˜ìŒ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
		dx = 1;
		dy = 0;

		cnt = 0;
		res = 0;

		// deque ìƒì„±
		node = new LinkedList<>();
		// ì²« ì¢Œí‘œ ì‚½ì…
		node.add(new Node(0, 0));
		// ì¬ê·€ ì‹œì‘
		recursive(0, 0);

		System.out.println(res);
	}

	static void recursive(int x, int y) {
		// ì¹´ìš´íŒ… + 1
		cnt++;


		// ì¢Œí‘œ ì´ë™ì„ í•˜ê³  ë§ˆì§€ë§‰ì— ë°©í–¥ì„ ë°”ê¾¼ë‹¤
		// ë‹¤ìŒ ì¢Œí‘œ
		int nx = x + dx;
		int ny = y + dy;

		// ë§Œì•½ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê±°ë‚˜ ìê¸° ëª¸ì— ë‹¿ì¼ ê²½ìš° ë
		if (nx < 0 || ny < 0 || nx > N - 1 || ny > N - 1) {
			// ê°’ ì €ì¥
			res = cnt;
			return;
		}

		for(Node list : node) {
			if(list.x == nx && list.y == ny) {
				// ê°’ ì €ì¥
				res = cnt;
				return;
			}
		}

		// ì‚¬ê³¼ ì—†ëŠ”ì§€ ì²´í¬ -> ì—†ìœ¼ë©´ ê¼¬ë¦¬ ì‚­ì œ
		if (board[ny][nx] == 0) {
			node.removeLast();
		}

		// ì‚¬ê³¼ ë¨¹ê³  ì‚­ì œ
		if(board[ny][nx] == 1) {
			board[ny][nx] = 0;
		}

		// ë¨¸ë¦¬ ë‹¤ìŒì¹¸ ì´ë™ ( ë§¨ ì•ì— ì‚½ì… )
		node.addFirst(new Node(nx, ny));

		if (list_num.size() > 0) {
			if (cnt == list_num.get(0)) {
				change(list_str.get(0).charAt(0));
				// ì‚¬ìš©í•œ ê²ƒ ì‚­ì œí•´ì£¼ê¸°
				list_num.remove(0);
				list_str.remove(0);
			}
		}

		// ë°˜ë³µ
		recursive(nx, ny);
	}

	// ë°©í–¥ ì „í™˜
	static void change(char c) {
		// ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë°”ê¾¸ê¸°
		if (c == 'D') {
			// ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì•„ë˜ìª½ìœ¼ë¡œ
			if (dx == 1 && dy == 0) {
				dx = 0;
				dy = 1;
			}
			// ë°‘ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì™¼ìª½ìœ¼ë¡œ
			else if (dx == 0 && dy == 1) {
				dx = -1;
				dy = 0;
			}
			// ì™¼ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ìœ„ìª½ìœ¼ë¡œ
			else if (dx == -1 && dy == 0) {
				dx = 0;
				dy = -1;
			}
			// ìœ„ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ
			else if (dx == 0 && dy == -1) {
				dx = 1;
				dy = 0;
			}
		}
		// ì™¼ìª½ìœ¼ë¡œ ë°”ê¾¸ê¸°
		else if (c == 'L') {
			// ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ìœ„ìª½ìœ¼ë¡œ
			if (dx == 1 && dy == 0) {
				dx = 0;
				dy = -1;
			}
			// ì•„ë˜ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ
			else if (dx == 0 && dy == 1) {
				dx = 1;
				dy = 0;
			}
			// ì™¼ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì•„ë˜ìª½ìœ¼ë¡œ
			else if (dx == -1 && dy == 0) {
				dx = 0;
				dy = 1;
			}
			// ìœ„ìª½ìœ¼ë¡œ ê°€ê³  ìˆìœ¼ë©´ ì™¼ìª½ìœ¼ë¡œ
			else if (dx == 0 && dy == -1) {
				dx = -1;
				dy = 0;
			}
		}
	}
}
```

## ğŸ¤” <b><a style="color:#00adb5">ë‚˜ì˜ ìƒê°</a></b>

ì—¬ê¸°ì„œ dequeë¥¼ í™œìš©í•œ ì´ìœ ëŠ” ì‚¬ê³¼ê°€ ìˆìœ¼ë©´ í•˜ë‚˜ì˜ nodeë§Œ ì¶”ê°€í•˜ë©´ ë˜ì§€ë§Œ ì‚¬ê³¼ê°€ ì—†ëŠ” ê²½ìš°ëŠ” ë§ˆì§€ë§‰ nodeë¥¼ ì‚­ì œí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì• ë’¤ë¡œ ê°„ë‹¨í•˜ê²Œ ì‚½ì…, ì‚­ì œ í•  ìˆ˜ ìˆëŠ” dequeë¥¼ í™œìš©í–ˆë‹¤.<br>
ê·¸ë¦¬ê³  Node í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œ ì¢Œí‘œë¥¼ ë°›ì•„ì˜¨ë‹¤.<br>

- ë°©í–¥ì„ ì •í•˜ê³  í•œ ì¹¸ì”© ì´ë™í•˜ë©´ dequeì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•œë‹¤.
- ì‚¬ê³¼ê°€ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ í•˜ë‚˜ì˜ nodeë¥¼ ì¶”ê°€í•œë‹¤.
- ì‚¬ê³¼ê°€ ì—†ìœ¼ë©´ í•˜ë‚˜ì˜ nodeëŠ” ì¶”ê°€í•˜ì§€ë§Œ dequeì— ì €ì¥ë˜ì–´ìˆëŠ” ë§ˆì§€ë§‰ nodeëŠ” ì‚­ì œí•œë‹¤.
- ì´ ê³¼ì •ë“¤ì„ ë°˜ë³µí•˜ë©° ê¸°ì¡´ dequeì— ìˆëŠ” nodeê°’ì— ë„ë‹¬í•˜ê±°ë‚˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ ë !
- ì´ íšŸìˆ˜ë¥¼ ì¹´ìš´íŒ…í•´ì¤€ë‹¤.

<br>
<center>
    <img width="80%" src="./../../images/3190.jpg">
</center>
