---
layout: single
title: "BOJ_G5_16234"
categories:
  - BOJ
tags:
  - [2022-06, CodingTest, BOJ, G5]
sidebar:
  nav: "docs"
---

# ğŸ“ <b><a style="color:#00adb5" href="https://www.acmicpc.net/problem/16234" target=_blank>[G5_16234] ì¸êµ¬ì´ë™</a></b>

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {
	static int N, L, R;
	static int[][] map;
	static boolean[][] v;
	// 4ë°©í–¥ íƒìƒ‰ : ì˜¤, ë°‘, ì™¼, ìœ„
	static int[] dx = { 1, 0, -1, 0 };
	static int[] dy = { 0, 1, 0, -1 };
	// ì¸êµ¬ì´ë™ì´ í•„ìš”í•œ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸
	static ArrayList<Node> list;

	public static class Node{
		int x;
		int y;
		public Node(int x, int y) {
			this.x = x;
			this.y = y;
		}
	}

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine(), " ");

		// **** input start ****
		N = Integer.parseInt(st.nextToken());
		L = Integer.parseInt(st.nextToken());
		R = Integer.parseInt(st.nextToken());

		// map ë°°ì—´
		map = new int[N][N];

		// ë°°ì—´ ì…ë ¥
		for (int i = 0; i < N; i++) {
			st = new StringTokenizer(br.readLine(), " ");
			for (int j = 0; j < N; j++) {
				map[i][j] = Integer.parseInt(st.nextToken());
			}
		}

		// **** input end ****

		// output
		System.out.println(move());

	}

	// ê°’ ì´ë™í•˜ê¸°
	public static int move() {
		int res = 0;
		while(true) {
			// ì¸êµ¬ì´ë™ì„ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜
			boolean isMove = false;
			v = new boolean[N][N];
			for(int i=0; i<N; i++) {
				for(int j=0; j<N; j++) {
					// ì´ë¯¸ ë°©ë¬¸í–ˆìœ¼ë©´ í†µê³¼
					if(v[i][j]) continue;

					int sum = bfs(i,j);
					// listê°€ 1ë³´ë‹¤ í¬ë‹¤ë©´ ì¸êµ¬ì´ë™
					if(list.size() > 1) {
						change(sum);
						isMove = true;
					}
				}
			}
			// ì¸êµ¬ì´ë™ì´ ë”ì´ìƒ ì—†ìœ¼ë©´ ë
			if(!isMove) return res;
			res++;
		}
	}

	// bfs
	public static int bfs(int x, int y) {
		Queue<Node> queue = new LinkedList<>();
		list =  new ArrayList<>();

		// íì— ì…ë ¥
		queue.offer(new Node(x, y));
		// ë¦¬ìŠ¤íŠ¸ì— ì…ë ¥
		list.add(new Node(x, y));
		// ë°©ë¬¸ì²˜ë¦¬
		v[x][y] = true;

		int sum = map[x][y];
		while(!queue.isEmpty()) {
			// í˜„ì¬ ë…¸ë“œ ì €ì¥
			Node current = queue.poll();

			// 4ë°©í–¥ íƒìƒ‰
			int ny,nx;
			for(int i=0; i<4; i++) {
				nx = current.x + dx[i];
				ny = current.y + dy[i];

				// ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ê±°ë‚˜ ì´ë¯¸ ë°©ë¬¸í–ˆìœ¼ë©´ í†µê³¼
				if(nx < 0 || ny < 0 || nx > N-1 || ny > N-1 || v[nx][ny]) continue;

				// ì¸êµ¬ìˆ˜ ì°¨ì´ ì²´í¬
				int temp = Math.abs(map[current.x][current.y] - map[nx][ny]);
				// ì¡°ê±´ì— ë¶€í•©í•˜ë©´
				if(temp >= L && temp <= R) {
					// ì…ë ¥í•˜ê¸°
					queue.offer(new Node(nx,ny));
					list.add(new Node(nx,ny));
					// ê°’ ë”í•´ì£¼ê¸°
					sum += map[nx][ny];
					// ë°©ë¬¸ì²˜ë¦¬
					v[nx][ny] = true;
				}
			}
		}
		return sum;
	}

	// ì¸êµ¬ ì´ë™
	public static void change(int sum) {
		int avg = sum / list.size();
		for(Node n : list) {
			map[n.x][n.y] = avg;
		}
	}
}
```

## ğŸ¤” <b><a style="color:#00adb5">ë‚˜ì˜ ìƒê°</a></b>

ì²˜ìŒì— ë¬¸ì œë¥¼ ë³´ê³  ìƒê°í–ˆë˜ ë°©ë²•ì´ ì „ì²´ ì¢Œí‘œë¥¼ ëŒë©´ì„œ dfsì™€ 4ë°©í–¥ íƒìƒ‰ì„ í†µí•´ ì—°ê²°ì¡°ê±´ì´ ë˜ëŠ” ê²ƒë“¤ì„ ë”í•˜ê³  í‰ê· ì„ êµ¬í•´ì¤€ ë’¤ ê·¸ ê°’ë“¤ì„ ë‹¤ë¥¸ ë°°ì—´ì— ì €ì¥í•´ì£¼ì.<br>
ê·¸ë¦¬ê³  ì „ì²´ë¥¼ í•œ ë²ˆ ë‹¤ëŒê³  ê·¸ ë‹¤ë¥¸ ë°°ì—´ì„ ì›ë˜ mapìœ¼ë¡œ copyí•˜ì ë¼ê³  ìƒê°ì„ í–ˆë‹¤.<br>
ì´ ê³¼ì •ë“¤ì„ ë°˜ë³µí•œ ê²°ê³¼ ì œê³µëœ tcëŠ” ë‹¤ ë§ì•˜ëŠ”ë° ìˆ¨ê²¨ì§„ tcì—ì„œ í‹€ë¦° ê²ƒì´ë‹¤.<br>
ìƒê°ì„ í•´ë³´ë‹ˆ ê¸°ì¡´ ì „ì²´ ì¢Œí‘œì—ì„œ í•˜ë‚˜ì˜ ì—°ê²°ê·¸ë£¹ë§Œ ìˆìœ¼ë©´ ë§ëŠ”ë° ì—¬ëŸ¬ê°œì˜ ì—°ê²° ê·¸ë£¹ì´ ë‚˜ì˜¬ì‹œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒì´ì˜€ë‹¤.<br>

<br>
ê·¸ë˜ì„œ ë„ì›€ì„ ë°›ì•„ ìƒˆë¡œ ì ‘ê·¼í•´ ë³´ì•˜ë‹¤.<br>

- ì „ì²´ ë°°ì—´ì„ ëŒë©° ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œì— ë°©ë¬¸í•œë‹¤. ëª¨ë“  ë…¸ë“œë¥¼ ë°©ë¬¸í•  ë•Œê¹Œì§€ ë°˜ë³µ
- BFS ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì„œ ë…¸ë“œë¥¼ ë°©ë¬¸í•œë‹¤.
- ë°©ë¬¸í•œ ë…¸ë“œë“¤ì„ listì— ë„£ì–´ì£¼ê³  í•©ë“¤ì„ ì €ì¥í•œë‹¤.
- ì „ì²´ ë°°ì—´ì„ ë‹¤ ëŒì•˜ìœ¼ë©´ ë…¸ë“œë“¤ì˜ ì¸êµ¬ì´ë™ì„ ì‹œì‘í•œë‹¤. ( listì˜ í¬ê¸°ê°€ 1ë³´ë‹¤ ì»¤ì•¼ ì‹¤í–‰ - ì—°ê²°ëœ ê²ƒë“¤ì´ ì¡´ì¬í•œë‹¤ëŠ” ëœ» )
- ì¸êµ¬ ì´ë™ ì½”ë“œì—ì„œ í•©ë“¤ì„ list ì‚¬ì´ì¦ˆë¡œ ë‚˜ëˆ ì„œ ëª¨ë“  ë…¸ë“œì˜ ê°’ì„ ë³€ê²½ì‹œí‚¨ë‹¤.
- ìœ„ì˜ ê³¼ì •ë“¤ì„ ë°˜ë³µí•´ì„œ ì´ ë°˜ë³µíšŸìˆ˜ë¥¼ êµ¬í•´ì¤€ë‹¤.
